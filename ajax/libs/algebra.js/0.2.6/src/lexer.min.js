"use strict";var Lexer=function(){this.pos=0,this.buf=null,this.buflen=0,this.optable={"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE","^":"POWER","(":"L_PAREN",")":"R_PAREN","=":"EQUALS"}};Lexer.prototype.input=function(t){this.pos=0,this.buf=t,this.buflen=t.length},Lexer.prototype.token=function(){if(this._skipnontokens(),this.pos>=this.buflen)return null;var t=this.buf.charAt(this.pos),s=this.optable[t];if(void 0!==s)return"L_PAREN"===s||"R_PAREN"===s?{type:"PAREN",value:s,pos:this.pos++}:{type:"OPERATOR",value:s,pos:this.pos++};if(Lexer._isalpha(t))return this._process_identifier();if(Lexer._isdigit(t))return this._process_number();throw new SyntaxError("Token error at character "+t+" at position "+this.pos)},Lexer._isdigit=function(t){return t>="0"&&"9">=t},Lexer._isalpha=function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t},Lexer._isalphanum=function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||t>="0"&&"9">=t},Lexer.prototype._process_digits=function(t){for(var s=t;s<this.buflen&&Lexer._isdigit(this.buf.charAt(s));)s++;return s},Lexer.prototype._process_number=function(){var t=this._process_digits(this.pos);if("."===this.buf.charAt(t)&&(t=this._process_digits(t+1)),"."===this.buf.charAt(t-1))throw new SyntaxError("Decimal point without decimal digits at position "+(t-1));var s={type:"NUMBER",value:this.buf.substring(this.pos,t),pos:this.pos};return this.pos=t,s},Lexer.prototype._process_identifier=function(){for(var t=this.pos+1;t<this.buflen&&Lexer._isalphanum(this.buf.charAt(t));)t++;var s={type:"IDENTIFIER",value:this.buf.substring(this.pos,t),pos:this.pos};return this.pos=t,s},Lexer.prototype._skipnontokens=function(){for(;this.pos<this.buflen;){var t=this.buf.charAt(this.pos);if(" "!=t&&"	"!=t&&"\r"!=t&&"\n"!=t)break;this.pos++}},module.exports=Lexer;
